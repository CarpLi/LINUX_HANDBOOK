# 6章 进程

[TOC]


## 进程和程序
* **进程是一个可执行程序的实例**
	* 二进制格式标识

	* 机器语言指令

	* 程序入口地址

	* 数据

	* 符号表及重定位表

	* 共享库和动态链接信息

* **进程是由内核定义的抽象的实体，并为该实体分配用以执行程序的各项系统资源**
- - -

## 进程号和父进程号
* 系统调用getpid()返回调用进程的进程号

* 系统调用getppid()可以检索到父进程的进程号

* 使用pstree命令查看系统进程“家族树”

* 通过查看Linux系统特有的/proc/PID/status文件所提供的PPID字段，可以获知每个进程的父进程

* Linux内核限制进程号需小于等于32767

- - -

## 进程内存分布

* **文本段 **	
	* 文本段包含了进程运行的程序机器语言指令

* **初始化数据段**
	* 显式初始化的全局变量和静态变量

* **未初始化数据段**
	* 未进行显式初始化的全局变量和静态变量

* **栈**
	* 动态增长和收缩的段，由栈帧组成

* **堆**
	* 可在运行时动态进行内存分配的一块区域

- - -

## 虚拟内存管理
### 虚拟内存管理
* **空间局部性**

* **时间局部性**

* 任一时刻，每个程序仅有部分页需要驻留在物理内存页帧中，构成了驻留集

* 程序未使用的页拷贝保存在交换区内，仅在需要时才会载入物理内存

### 页表



- - -

## 命令行参数

- - -

## 环境列表

- - -

## 执行非局部跳转
### setjmp()函数使用限制
* 构成选择或迭代语句中
* 作为一元操作符的操作对象
* 作为比较操作的一部分
* 作为独立的函数调用，且没有嵌入到更大的表达式中
- - -

## 总结
* 每个进程都有一个唯一进程标识号
* 进程的虚拟内存逻辑上呗划分成许多段：文本段，数据段，栈，堆
* 栈由一系列帧组成，随函数调用而递增，随函数返回而减
* 每个帧都包含有函数局部变量、函数实参以及单个函数调用的调用链接信息
* 每个进程都会获得其父进程环境列表的一个副本，即一组“名称-值”键值对
* 全局变量environ和各种库函数允许进程访问和修改其环境列表中的变量
* setjmp()函数和longjmp()函数提供了从函数某甲执行非局部跳转到函数某乙（栈解开）的方法
